<!DOCTYPE html>
<html 
    lang="en"
    xmlns:th="http://www.thymeleaf.org"
>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>손 안의 메뉴 추천 리스트, 메추리</title>
    <link rel="stylesheet" type="text/css" href="/css/restaurant/list.css">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <script src="/js/restaurant/list.js" defer="defer"></script>
</head>

<body>
    <div class="fixed-area">
        <header>
            <div class="header-side left">
                <a href="/index"><button class="header-icon back">버튼</button></a>
            </div>
            <a href="/index">
                <h1 class="header-icon logo">로고</h1>
            </a>
            <div class="header-side right">
                <a><button class="header-icon search">버튼</button></a>
            </div>
        </header>

        <!-- TODO 검색 버튼 transition -->

        <main>
            <!-- 카테고리 -->
            <nav class="category top-category-nav">
                <ul class="category-list top-category-list">
                    <li>
                        <a class="rs-menu non-click" href="/restaurant/list">전체</a>
                    </li>
                    <li th:each="c : ${mainCtgList}">
                        <a 
                            class="rs-menu non-click" 
                            href="/restaurant/list?c=1"
                            th:href="@{/restaurant/list(c=${c.id})}"
                            th:text="${c.name}">한식
                        </a>
                    </li>
                </ul>
            </nav>

    <!-- 기타 카테고리 -->
        <div class="category-others-container">
            <nav class="category others">
                <ul class="category-list other-category-list">
                    <li th:each="c : ${otherCtgList}">
                        <button
                            class="category-tag" 
                            href="#"
                            th:text="'#' + ${c.name}">#베트남
                        </button>
                    </li>
                </ul>
            </nav>
        </div>
    <!-- 필터 -->
        <div class="filter-box">
            <select name="filter">
                <option value="">가나다순</option>
                <option value="">가성비순</option>
                <option value="">가격순</option>
            </select>
        </div>
    </div>

    <!-- 컨텐츠 -->
    <section>
        <section class="content" th:each="r : ${list}">
            <!-- 이미지 -->
            <div class="image-box">
                <img src="/images/foods/청화원2.png" th:src="@{/images/foods/{img}(img=${r.img})}" alt="이미지" class="image">
                <!-- 하트 -->
                <button class="like">좋아요</button>
                <div class="data-box">
                    <p>좋아요 수</p>
                    <p th:text="${r.likedCount}">718</p>
                    <p>평가 수</p>
                    <p th:text="${r.ratedCount}">207</p>
                </div>
            </div>
            <!-- 정보 -->
            <div class="info-box">
                <p th:text="${r.name}">식당명</p>
                <p>평균가격</p>
                <p th:text="${r.avgPrice}">10,000원</p>
                <p>·</p>
                <p>가성비</p>
                <p th:text="${r.value} + ' %'">113%</p>
            </div>
            <!-- 버튼 -->
            <div class="btn-box">
                <div>
                    <a href="/restaurant/1" th:href="@{/restaurant/{id}(id=${r.id})}"><button>상세
                            보기</button></a>
                </div>
                <div>
                    <a href="/restaurant/{id}/rate"
                        th:href="@{/restaurant/{id}/rate(id=${r.id})}"><button>평가하기</button></a>
                </div>
            </div>
        </section>
    </section>

    </main>

</body>

</html>